<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>O Guardião do Primeiro Canto</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#d4af37">
<link rel="manifest" href="manifest.json">
<link rel="icon" href="icone-galo.png">

<style>
body{
background:linear-gradient(180deg,#d4af37,#b8962e);
color:#1a1a1a;
font-family:Arial;
padding:20px;
}

.titulo{
display:flex;
align-items:center;
justify-content:center;
gap:10px;
}

.icon-title{
width:40px;
}

.perfil{
text-align:center;
margin:15px 0;
}

.perfil img{
width:70px;
height:70px;
border-radius:50%;
}

.fase-box{
display:flex;
align-items:center;
justify-content:center;
gap:10px;
margin-bottom:10px;
font-weight:bold;
}

.fase-icon{
width:36px;
}

.status{
margin:12px 0;
display:flex;
align-items:center;
gap:8px;
}

.bar{
background:rgba(0,0,0,0.2);
height:20px;
width:100%;
border-radius:10px;
overflow:hidden;
}

.fill{
height:100%;
transition:.3s;
}

.vitalidade{background:#e53935;}
.forca{background:#6d4c41;}
.disciplina{background:#1e88e5;}
.confianca{background:#43a047;}
.instinto{background:#fdd835;}

button{
width:100%;
padding:14px;
margin:6px 0;
background:#111;
color:#fff;
border:none;
font-size:16px;
border-radius:10px;
display:flex;
align-items:center;
gap:10px;
}

.attr-icon{
width:30px;
}
</style>
</head>

<body>

<h1 class="titulo">
<img src="icone-galo.png" class="icon-title">
O Guardião do Primeiro Canto
</h1>

<div class="perfil">
<img src="icone-galo.png">
<div id="info"></div>
<div id="personalidade"></div>
</div>

<div id="fase" class="fase-box"></div>
<div id="stats"></div>

<button onclick="acao('alimentar')"><img class="attr-icon" src="botao-alimentar.png"> Alimentar</button>
<button onclick="acao('cuidar')"><img class="attr-icon" src="botao-cuidar.png"> Cuidar do espaço</button>
<button onclick="acao('movimento')"><img class="attr-icon" src="botao-movimento.png"> Movimento leve</button>
<button onclick="acao('contato')"><img class="attr-icon" src="botao-contato.png"> Contato calmo</button>
<button onclick="acao('observar')"><img class="attr-icon" src="botao-observar.png"> Observação silenciosa</button>

<script>

let galo = JSON.parse(localStorage.getItem("galo")) || {
vitalidade:20,
forca:10,
disciplina:10,
confianca:10,
instinto:5,
nascimento:Date.now(),
fase:1
};

const fases=[
"Pintinho do Calor",
"Aprendiz do Território",
"Vigilante Jovem",
"Galo em Formação",
"O Primeiro Canto",
"Lenda Viva"
];

function salvar(){
localStorage.setItem("galo",JSON.stringify(galo));
}

function play(src){
new Audio(src).play();
}

function nivel(){
return Math.floor(
(galo.vitalidade+
galo.forca+
galo.disciplina+
galo.confianca+
galo.instinto)/5
);
}

function faseIndex(){
let n=nivel();
if(n<20)return 1;
if(n<40)return 2;
if(n<60)return 3;
if(n<80)return 4;
if(n<100)return 5;
return 6;
}

function calcularIdade(){
let diff=Date.now()-galo.nascimento;

let d=Math.floor(diff/86400000);
let h=Math.floor(diff/3600000)%24;
let m=Math.floor(diff/60000)%60;

return `${d}d ${h}h ${m}m`;
}

function personalidade(){

let maior=Math.max(
galo.vitalidade,
galo.forca,
galo.disciplina,
galo.confianca,
galo.instinto
);

switch(maior){
case galo.forca:return "Guerreiro";
case galo.disciplina:return "Estrategista";
case galo.confianca:return "Líder";
case galo.instinto:return "Selvagem";
default:return "Espírito em Formação";
}
}

function acao(tipo){

if(tipo=="alimentar"){
galo.vitalidade+=5;
galo.forca+=2;
play("click-alimentar.m4a");
}

if(tipo=="cuidar"){
galo.vitalidade+=3;
galo.confianca+=2;
play("click-cuidar.m4a");
}

if(tipo=="movimento"){
galo.forca+=4;
galo.instinto+=2;
play("click-movimento.m4a");
}

if(tipo=="contato"){
galo.disciplina+=4;
galo.confianca+=3;
play("click-contato.m4a");
}

if(tipo=="observar"){
galo.disciplina+=3;
galo.instinto+=3;
play("click-observar.m4a");
}

for(let k in galo)
if(galo[k]>999)galo[k]=999;

salvar();
atualizar();
}

function atualizar(){

let f=faseIndex();

if(f!==galo.fase){
play("fase"+f+".m4a");
galo.fase=f;
salvar();
}

document.getElementById("fase").innerHTML=
`<img src="fase-${f}.png" class="fase-icon"> ${fases[f-1]}`;

document.getElementById("info").innerHTML=
`Nível ${nivel()} · ${fases[f-1]}<br>
Idade: ${calcularIdade()}`;

document.getElementById("personalidade").innerText=
"Personalidade: "+personalidade();

document.getElementById("stats").innerHTML=`

<div class="status">
<img class="attr-icon" src="vitalidade.png">
${galo.vitalidade}
<div class="bar"><div class="fill vitalidade" style="width:${galo.vitalidade}%"></div></div>
</div>

<div class="status">
<img class="attr-icon" src="forca.png">
${galo.forca}
<div class="bar"><div class="fill forca" style="width:${galo.forca}%"></div></div>
</div>

<div class="status">
<img class="attr-icon" src="disciplina.png">
${galo.disciplina}
<div class="bar"><div class="fill disciplina" style="width:${galo.disciplina}%"></div></div>
</div>

<div class="status">
<img class="attr-icon" src="confianca.png">
${galo.confianca}
<div class="bar"><div class="fill confianca" style="width:${galo.confianca}%"></div></div>
</div>

<div class="status">
<img class="attr-icon" src="instinto.png">
${galo.instinto}
<div class="bar"><div class="fill instinto" style="width:${galo.instinto}%"></div></div>
</div>
`;
}

setInterval(atualizar,60000);
atualizar();

</script>
</body>
</html>
